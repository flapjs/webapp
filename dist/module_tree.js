(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{107:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Q}));var n=r(26),a=r(48),o=r(49),c=r(0),i=r.n(c),l=r(1),u=r.n(l),s=r(28);function d(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function f(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var[t,r]=Object(c.useState)({elements:{}}),n=Object.freeze(Object.values(t.elements)),a=Object(c.useCallback)((function(){var t=e(...arguments);t&&r(e=>{var r=t.id||(t.id=Object(s.g)()),n=p(p({},e.elements),{},{[r]:t});return e.elements=n,p({},e)})}),[e]),o=Object(c.useCallback)((function(e){r(t=>{if(e in t.elements){var r=t.elements,{[e]:n}=r,a=d(r,[e].map(f));return t.elements=a,p({},t)}return t})}),[]),i=Object(c.useCallback)((function(e,t){r(r=>{if(e in r.elements){var n=p(p({},r.elements[e]),t),a=p(p({},r.elements),{},{[e]:n});return r.elements=a,p({},r)}return r})}),[]),l=Object(c.useCallback)((function(){r(e=>(e.elements={},p({},e)))}),[]),u=Object(c.useCallback)((function(e){return e in t.elements?t.elements[e]:null}),[t]),b=Object(c.useCallback)((function(e){r(p({elements:{}},e))}),[]);return[n,Object(c.useMemo)(()=>({add:a,remove:o,update:i,clear:l,get:u,resetState:b}),[a,o,i,l,u,b])]}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=i.a.createContext(null);function j(){return Object(c.useContext)(y)}y.Consumer;function E(e){var{children:t}=e,[r,n]=Object(c.useState)({metadata:{}}),[a,o]=v(P),[l,u]=v(w),s=Object(c.useCallback)((function(){o.clear(),u.clear()}),[u,o]),d=Object.freeze(r.metadata),f=Object(c.useCallback)((function(e){n(t=>(t.metadata=O(O({},t.metadata),e),O({},t)))}),[]),b=Object(c.useCallback)((function(e){n(O({metadata:{}},e))}),[]),p=Object(c.useCallback)((function(){n(e=>(e.metadata={},O({},e)))}),[]),m={graphId:"graph_001",nodes:O({nodeList:a},o),edges:O({edgeList:l},u),metadata:d,updateMetadata:f,resetMetadata:b,clearMetadata:p,clearGraph:s};return i.a.createElement(y.Provider,{value:m},t)}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O({id:Object(s.g)()},e)}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O({id:Object(s.g)(),fromNodeId:e,toNodeId:t},r)}function k(){var{nodes:e,edges:t}=j();return i.a.createElement("div",null,e.nodeList.map(t=>i.a.createElement("button",{key:t.id,onClick:()=>{e.update(t.id,{x:Math.floor(100*Math.random()),y:Math.floor(100*Math.random())})}},"Randomize Node ",t.id," : ",JSON.stringify(t,null,4))),t.edgeList.map(e=>i.a.createElement("button",{key:e.id,onClick:()=>{t.update(e.id,{x:Math.floor(100*Math.random()),y:Math.floor(100*Math.random())})}},"Randomize Edge ",e.id," : ",JSON.stringify(e,null,4))))}function M(){var e=j();return i.a.createElement("div",null,i.a.createElement("button",{onClick:()=>{e.nodes.add({x:0,y:0,label:"A"})}},"Add Node"),i.a.createElement("button",{onClick:()=>{var t=e.nodes.nodeList[Math.floor(Math.random()*e.nodes.nodeList.length)],r=e.nodes.nodeList[Math.floor(Math.random()*e.nodes.nodeList.length)];e.edges.add(t.id,r.id,{label:"B"})}},"Connect an Edge"),i.a.createElement("button",{onClick:()=>{e.clearGraph()}},"Clear Graph"))}E.propTypes={children:u.a.node};var S=r(67);function C(e){var{elementList:t,renderer:r}=e;return i.a.createElement(i.a.Fragment,null,t.map(e=>r(e)))}C.propTypes={renderer:u.a.func.isRequired,elementList:u.a.array},C.defaultProps={elementList:[]};var x=r(50),N=(Math.PI,Math.PI/2);function L(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a.quad;if(!n){var c=r.x-e,i=r.y-t,l=-Math.atan2(c,i)-N;return o.radians=l,o}var u=r.x,s=r.y,d=n.x,f=n.y,b=d-u,p=f-s,m=u+b/2,v=s+p/2,g=Math.atan2(-p,b);b=e-m,p=t-v;var O=Math.atan2(p,b)+g,h=Math.sqrt(b*b+p*p);h<0&&(h=0);var y=O- -N,j=O-N,E=Math.PI/20;return Math.abs(h)<8?(O=0,h=0):y<E&&y>-E?O=-N:-j<E&&-j>-E&&(O=N),o.radians=O,o.length=h,o}function D(e,t){return(e||0)+(t&&t.radius||0)}var z=r(51),R=r(62);function I(e){var{element:t}=e,r=Object(c.useRef)(null),{nodes:n}=j();return Object(z.a)(r,t,(function(e){n.update(t.id,e)}),{useButton:0}),Object(x.b)(r,t,{useButton:2}),Object(x.c)(r,t),i.a.createElement(R.a,{x:t.x,y:t.y,label:t.label,maskProps:{ref:r}})}I.propTypes={children:u.a.node,element:u.a.object.isRequired};var T=r(60),G=r(53),q=r(52),U=r(42);function _(e){var{element:t}=e,r=Object(c.useRef)(null),n=Object(c.useRef)(null),a=Object(c.useRef)(null),o=j(),l=o.nodes.get(t.fromNodeId),u=o.nodes.get(t.toNodeId),s={margin:15},d=Object(c.useMemo)(()=>U.f(l,u,s),[l,s,u]),f=Object(c.useMemo)(()=>U.d(l,u,s),[l,s,u]),b=Object(c.useMemo)(()=>U.c(l,u,s),[l,s,u]),p=Object(c.useMemo)(()=>U.e(l,u,s),[l,s,u]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{start:d,end:f,center:b,label:t.label,labelDirection:p,labelKeepUp:!0,maskProps:{ref:r},labelProps:{ref:n},hidden:!1,renderEndpoint:(e,t,r)=>"forward"===r?i.a.createElement(G.a,{x:e.x,y:e.y,angle:t,maskProps:{ref:a}}):i.a.createElement(q.a,{x:e.x,y:e.y,angle:t,maskProps:{style:{pointerEvents:"none"}}})}),e.children)}function A(e){var{children:t}=e,{nodes:r,edges:n}=j();return Object(S.b)(),Object(S.a)((e,t)=>r.add({x:e,y:t})),i.a.createElement(a.a,null,i.a.createElement(x.a,{onConnect:function(e,t,r,a){if(a.prevEdge){var o=a.prevEdge;n.update(o.id,{fromNodeId:e.id,toNodeId:t.id})}else n.add(e.id,t.id)},onCancel:function(e,t,r,a){if(a.prevEdge){var o=a.prevEdge,c={x:0,y:0};!function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.quad;e?e===t&&(a.length=D(n.margin,r)+(n.placeholderLength||0)):L(r.x,r.y,t,null,n,a)}(null,e,r,c),n.update(o.id,{toNodeId:null,center:c})}}},i.a.createElement(C,{elementList:r.nodeList,renderer:e=>i.a.createElement(I,{key:e.id,element:e})}),i.a.createElement(C,{elementList:n.edgeList,renderer:e=>i.a.createElement(_,{key:e.id,element:e})}),t))}_.propTypes={children:u.a.node,element:u.a.object.isRequired},A.propTypes={children:u.a.node};var J=r(41),V=r(65),F=r(46),H=r(30),X=r(69);function B(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{onSerialize:null},t=j();return function(r){var n={};for(var a of t.nodes.nodeList){var o=void 0;(o=e.onSerialize?e.onSerialize("node",a):a)&&(n[a.id]=o)}r.nodes=n;var c={};for(var i of t.edges.edgeList){var l=void 0;(l=e.onSerialize?e.onSerialize("edge",i):i)&&(c[i.id]=l)}r.edges=c,r.metadata=e.onSerialize&&e.onSerialize("metadata",t.metadata)||t.metadata||{}}}()}function Y(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{onDeserialize:null},t=j();return function(r){if("nodes"in r){var n={};for(var a in r.nodes){var o=void 0;o=e.onDeserialize?e.onDeserialize("node",r.nodes[a]):r.nodes[a],n[a]=o}t.nodes.resetState({elements:n})}else t.nodes.clear();if("edges"in r){var c={};for(var i in r.edges){var l=void 0;l=e.onDeserialize?e.onDeserialize("edge",r.edges[i]):r.edges[i],c[i]=l}t.edges.resetState({elements:c})}else t.edges.clear();"metadata"in r?t.resetMetadata({metadata:e.onDeserialize&&e.onDeserialize("metadata",r.metadata)||r.metadata||{}}):t.clearMetadata()}}()}var K=r(18);function W(){var{getLocaleString:e}=Object(K.b)(),{svgRef:t}=Object(H.b)(),r=j(),n=B(),a=Y();Object(X.a)("treeGraph.autosave",n,a);var{doUndoHistory:c,canUndoHistory:l,doRedoHistory:u,canRedoHistory:s,clearHistory:d}=Object(o.d)("treeGraph.history",n,a);return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.c,{onClick:c,canClick:l}),i.a.createElement(o.b,{onClick:u,canClick:s}),i.a.createElement("button",{onClick:()=>{r.clearGraph(),d()}},e("action.workspace.new")),i.a.createElement("button",{onClick:()=>{J.c("Untitled.png",J.a,t.current,640,480)}},e("action.workspace.export")),i.a.createElement("button",{onClick:()=>{var e=n({});J.d("Untitled.tree.json",JSON.stringify(e))}},e("action.workspace.save")),i.a.createElement(F.a,{title:e("action.workspace.upload"),onUpload:e=>{Object(V.a)(e).then(e=>a(JSON.parse(e)))}}))}class Q extends n.a{static get moduleId(){return"tree"}static get moduleVersion(){return"1.0.0"}static get providers(){return[E,a.b,o.a]}static get renders(){return{header:[],appbar:[W],foreground:[],background:[A],drawer:[M,k]}}}},28:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n)}function a(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function o(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0,r=0,n=e.length;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function c(e,t,r,n){var a=r-e,o=n-t;return Math.sqrt(a*a+o*o)}function i(e,t,r,n){var a=r-e,o=n-t;return a*a+o*o}function l(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{x:0,y:0},i=r-e,l=n-t,u=Math.atan2(l,i)+o;return c.x=Math.cos(u)*a,c.y=Math.sin(u)*a,c}function u(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0};return a.x=e+(r-e)/2,a.y=t+(n-t)/2,a}r.d(t,"g",(function(){return n})),r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u}))},30:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return u}));var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=a.a.createContext(null);i.Consumer;function l(e){var t=Object(n.useRef)(null),[r,o]=Object(n.useState)({x:0,y:0}),[c,l]=Object(n.useState)(1),u=Object(n.useCallback)((e,t)=>{o({x:-e,y:-t})},[o]),s={svgRef:t,pos:r,setPos:o,scale:c,setScale:l,setLookAt:u};return a.a.createElement(i.Provider,{value:s},e.children)}function u(){var e=Object(n.useContext)(i);if(!e)throw new Error("Missing ViewProvider.");return e}l.propTypes={children:c.a.node}},40:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));class n{static get serviceVersion(){return"0.0.0"}static get services(){return[]}static get providers(){return[]}static get renders(){return{}}static get slots(){return{}}constructor(e,t){this.loader=e}destroy(){}mount(){}unmount(){}}},48:function(e,t,r){"use strict";r.d(t,"b",(function(){return d.a})),r.d(t,"d",(function(){return d.b})),r.d(t,"a",(function(){return h})),r.d(t,"c",(function(){return y}));var n=r(40),a=r(0),o=r.n(a),c=r(3);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){return o.a.createElement(t,l(l({},n),r),o.a.createElement(c.a,{name:e}),n.children)}}var d=r(30),f=r(1),b=r.n(f);function p(e){return o.a.createElement(o.a.Fragment,null,e.children)}p.propTypes={children:b.a.node};var m=r(61),v=r.n(m);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O(e){var{offsetX:t,offsetY:r,scale:n,childProps:a}=e,c=300*Math.min(Number.MAX_SAFE_INTEGER,Math.max(Number.EPSILON,n)),i=c/2,l="".concat(-i," ").concat(-i," ").concat(c," ").concat(c);return o.a.createElement("svg",g({className:v.a.view+" viewarea "+e.className,viewBox:l},a),o.a.createElement("g",{transform:"translate(".concat(t," ").concat(r,")")},e.children))}function h(e){var{svgRef:t,pos:r,scale:n}=Object(d.b)();return o.a.createElement(O,{className:"viewport",offsetX:r.x,offsetY:r.y,scale:n,childProps:{ref:t}},e.children)}O.propTypes={children:b.a.node,className:b.a.string,offsetX:b.a.number,offsetY:b.a.number,scale:b.a.number,childProps:b.a.object},O.defaultProps={offsetX:0,offsetY:0,scale:1,childProps:{}},h.propTypes={children:b.a.node};class y extends n.a{static get providers(){return[d.a]}static get renders(){return{background:[s("playarea",h)],foreground:[s("viewarea",p)]}}static get serviceVersion(){return"1.0.0"}}},58:function(e,t,r){"use strict";function n(e,t,r){if(!(e instanceof SVGGraphicsElement))return[t,r];var n=e.getScreenCTM();return[(t-n.e)/n.a,(r-n.f)/n.d]}function a(e,t,r){var n=e.getScreenCTM();return[t*n.a+n.e,r*n.d+n.f]}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},61:function(e,t,r){e.exports={view:"src-services-view-svg-__SVGPlayground-module__view--3cnUW"}}}]);